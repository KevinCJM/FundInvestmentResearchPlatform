# 产品对比功能预览

本文档记录了前端“产品研究”与“产品对比”页面的关键交互，帮助团队成员快速验证多选对比流程是否符合预期。

## 操作步骤

1. 在仓库根目录启动后端接口：
   ```bash
   python backend/run.py
   ```
2. 在 `frontend/` 目录安装依赖并启动开发服务器：
   ```bash
   cd frontend
   npm install
   npm run dev -- --host 0.0.0.0 --port 4173
   ```
3. 打开浏览器访问 `http://127.0.0.1:4173/research`。
4. 在产品表格中勾选任意不超过 10 个 ETF，页面右上角会展示“已选 X / 10”状态，并启用“产品对比”按钮。
5. 点击“产品对比”跳转到 `/product-compare?ids=...`，查看所选产品的基本信息、费用指标以及虚拟净值走势对比图。

## 虚拟产品预览

若后端数据暂不可用，可直接访问 `/product-compare?preview=demo`，页面会载入十只内置的示例产品，并展示收益、风险与性价比模块的完整布局，方便采集截图或演示交互。示例数据仅用于前端预览，不会触发 API 请求。

## 指标热力对比预览

- 访问 `/product-compare?preview=demo` 后，在收益、风险、性价比三个板块内，每个指标行都会以“指标 × 产品”的热力表格呈现。
- 色块会按照指标优劣方向自动从暖色（表现较弱）过渡到绿色（表现较强），同一行即可直观看出对比差异。
- 若所有产品在同一指标上的取值接近，单元格会保持柔和的浅绿色底色，避免误导性的强烈对比。
- 性价比板块的下方新增“收益风险象限图”，支持在夏普比率、卡玛比率与收益费用比之间切换，图中横轴展示对应收益指标，纵轴展示风险指标，方便对比十只示例产品的投入产出效率。

## 预览截图

- 快速取用虚拟产品预览：确保前端开发服务器运行后，访问 `http://127.0.0.1:4173/product-compare?preview=demo`（或相应端口），即可看到虚拟产品填充的收益、风险与性价比热力表格以及配套图表。
- 采集截图时建议将窗口宽度设置为 1440px 以上，以完整展示三个指标板块和滚动控制组件。
- 如果需引用示例图，可在访问该地址后自行截取当前屏幕；仓库维护的演示截图亦是按照该虚拟产品模式采集。
